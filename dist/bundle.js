(()=>{"use strict";window.addEventListener("DOMContentLoaded",(()=>{!function({cursUsd:e,workPrace:t,lightPrace:l,perimeterPrace:n}){!function(){const e=document.querySelector(".menu"),t=document.querySelector(".burger__square"),l=document.querySelector(".menu__list"),n=l.querySelectorAll(".menu__line"),o=(l.querySelector(".menu__line"),document.querySelector(".burger__span"));t.addEventListener("click",(()=>{let e=.3;n.forEach((t=>{t.style.transition=`all ${e}s ease`,t.classList.toggle("active"),e+=.1})),o.classList.toggle("active-burger")}));let c=e.getBoundingClientRect().top;window.addEventListener("scroll",(t=>{window.scrollY>=c?e.classList.add("menu__fix"):e.classList.remove("menu__fix")}))}(),function(){const e=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){let l=e.target;l.classList.add("rotate-scale-up"),t.unobserve(l)}}))}),{threshold:[1],rootMargin:"10px 0px 0px 0px"});document.querySelector(".footer__icons").querySelectorAll("img").forEach((t=>{e.observe(t)}))}(),function(){const o=document.querySelector(".top-heder__call-calc"),c=document.querySelector(".popup-calc__type-select"),r=c.querySelector("span"),a=c.querySelectorAll(".popup-calc__type-line"),s=document.querySelector(".popup-calc__button"),i=document.querySelector(".popup-calc"),d=document.querySelector(".popup-calc__x"),u=document.querySelector(".top-line__calc");o.addEventListener("click",(()=>{i.style.display="flex"})),u.addEventListener("click",(()=>{i.style.display="flex"})),d.addEventListener("click",(()=>{i.style.display="none"})),c.addEventListener("click",(e=>{c.classList.toggle("active-select"),a.forEach((e=>{e.classList.toggle("active")})),e.target.classList.contains("popup-calc__type-line")&&(r.textContent=e.target.innerHTML)})),s.addEventListener("click",(()=>{let o,c,r=[],a=0,s=document.querySelectorAll(".text-input"),i=document.querySelector(".popup-calc__type-select span");document.querySelectorAll(".popup-calc__sale-input").forEach((e=>{e.checked&&(a=e.value)})),o=i.textContent,s.forEach((e=>{let t=`${e.value}`;t=t.includes(",",0)?+t.replace(",","."):+t,t&&r.push(t)})),r[0]>3.5&&r[1]>3.5?("Цветной"===o&&(c=4.1),"Белый"===o&&(c=3.1)):("Цветной"===o&&(c=3.1),"Белый"===o&&(c=1.9));let d=document.querySelector(".popup-calc__cash");if("Цветной"===o||"Белый"===o&&3===r.length){let o=Math.round((r[0]*r[1]*c+2*(r[0]+r[1])*n+r[2]*l)*e+r[0]*r[1]*t*a);d.textContent="стоимость: "+o+" руб.",d.style.display="block"}else d.textContent="введите все данные !",d.style.display="block"}))}()}({cursUsd:2.6,workPrace:15,lightPrace:1,perimeterPrace:1}),function(){const e=document.querySelector(".gallery");e&&function(){const t=document.body,l=document.querySelector(".gallery-pop"),n=document.querySelector(".gallery__body"),o=document.querySelector(".gallery-pop__body"),c=document.querySelector(".gallery-pop__img-box"),r=document.querySelector(".gallery-pop__right"),a=document.querySelector(".gallery-pop__left"),s=document.querySelector(".gallery-pop__x"),i=document.querySelector(".gallery-pop__dots"),d=document.querySelectorAll(".pic-item__body"),u=document.querySelector("style"),p=[],y=n.querySelectorAll("img"),m=["gallery-pop__img","_gap-img"];let _;const f=l.getAttribute("data-gap"),g=l.getAttribute("data-transition");function v(e,t){return(e+=t)<0&&(e=p.length-1),e>p.length-1&&(e=0),e}function h(e){e<0&&(_=p.length-1),e>p.length-1&&(_=0)}function S(){let e=i.querySelectorAll(".gallery-pop__dot");e.forEach((e=>{e.matches('[class="gallery-pop__dot dot-white"]')&&e.classList.remove("dot-white")})),e[_].classList.add("dot-white")}y.forEach((e=>{p.push(e.getAttribute("src"))})),n.addEventListener("click",(e=>{var n;!function(){let e=g/1e3;if(window.matchMedia("(min-width: 1021px)").matches&&(u.innerHTML=`._gap-img {padding-left: ${f}px; padding-right: ${f}px; transition:all ${e}s ease;}`),window.matchMedia("(max-width: 1020px)").matches&&window.matchMedia("(min-width: 768px)").matches){let t=.8*f;u.innerHTML=`._gap-img {padding-left: ${t}px; padding-right: ${t}px; transition:all ${e}s ease;}`}if(window.matchMedia("(max-width: 767px)").matches){let t=.7*f;u.innerHTML=`._gap-img {padding-left: ${t}px; padding-right: ${t}px; transition:all ${e}s ease;}`}}(),n=e.target.getAttribute("src"),_=p.indexOf(n,0);let o=document.createElement("img"),r=document.createElement("img"),a=document.createElement("img");o.classList.add(...m),r.classList.add(...m),a.classList.add(...m),o.setAttribute("src",p[v(_,-1)]),r.setAttribute("src",p[_]),a.setAttribute("src",p[v(_,1)]),o.style.left="-100%",r.style.left="0%",a.style.left="100%",l.style.display="flex",c.append(o),c.append(r),c.append(a),y.forEach((e=>{let t=document.createElement("div");t.classList.add("gallery-pop__dot"),i.append(t)})),i.querySelectorAll(".gallery-pop__dot")[_].classList.add("dot-white"),t.style.overflow="hidden"})),s.addEventListener("click",(()=>{l.style.display="none",o.querySelectorAll(".gallery-pop__img").forEach((e=>{e.remove()})),i.innerHTML="",t.style.overflow="auto"})),r.addEventListener("click",(function e(){_++,h(_);let t=document.createElement("img");t.classList.add(...m),t.setAttribute("src",p[v(_,1)]),t.style.left="200%",c.append(t),setTimeout((function(){let t=c.querySelectorAll(".gallery-pop__img"),l=-200;t.forEach((e=>{e.style.left=l+"%",l+=100})),S(),r.removeEventListener("click",e),setTimeout((function(){c.querySelector(".gallery-pop__img").remove(),r.addEventListener("click",e)}),g)}),10)})),a.addEventListener("click",(function e(){_--,h(_);let t=document.createElement("img");t.classList.add(...m),t.setAttribute("src",p[v(_,-1)]),t.style.left="-200%",c.prepend(t),setTimeout((function(){let t=c.querySelectorAll(".gallery-pop__img"),l=-100;t.forEach((e=>{console.log("",e),e.style.left=l+"%",l+=100})),S();let n=c.lastElementChild;a.removeEventListener("click",e),setTimeout((function(){n.remove(),a.addEventListener("click",e)}),g)}),10)})),function(){let t=e.getAttribute("data-height");d.forEach((e=>{e.style.paddingBottom=t}))}()}()}(),function(){if(document.querySelector(".order-call")){!function(){const e=document.querySelector(".order-call"),t=document.querySelectorAll('[data-popup="open"]'),l=e.querySelector(".order-call__title");t.forEach((t=>{t.addEventListener("click",(()=>{e.style.display="flex",t.hasAttribute("data-name-button")&&(l.textContent=t.getAttribute("data-name-button"))}))})),e.addEventListener("click",(t=>{t.target.closest(".order-call__x")&&(e.style.display="none")}))}(),function(){const e=document.querySelector(".order-call__tel"),t=document.querySelector(".order-call__tel-div");function l(t,l){e.value.length===t&&(e.value=e.value.slice(0,t-1)+l+e.value[t-1])}e.addEventListener("click",(()=>{e.value="+375",e.addEventListener("input",(()=>{"("===e.value[e.value.length-1]||")"===e.value[e.value.length-1]||"-"===e.value[e.value.length-1]?e.value=e.value.slice(0,e.value.length-1):(e.value.length<4&&(e.value="+375"),l(5,"("),l(8,")"),l(12,"-"),l(15,"-"),e.value.length>16&&(e.value=e.value.slice(0,17)),/^\+375\(?\d?\d?\)?\d?\d?\d?-?\d?\d?-?\d?\d?$/.test(e.value)?e.style.border="#28b352 2px solid":e.style.border="#ec3c3c 2px solid"),17===e.value.length&&/^\+375\(?\d?\d?\)?\d?\d?\d?-?\d?\d?-?\d?\d?$/.test(e.value)?t.classList.contains("_grey")&&(t.classList.remove("_grey"),t.classList.add("_green")):t.classList.contains("_green")&&(t.classList.remove("_green"),t.classList.add("_grey"))}))}))}();const e=document.querySelector(".order-call__name");!function(){const t=document.querySelector(".order-call__button"),l=document.querySelector(".order-call__tel"),n=document.body,o=document.querySelector(".anime-meil");let c=document.querySelector(".order-call__title").textContent;t.addEventListener("click",(function(r){r.preventDefault,e.value.length<3&&(e.value="",e.setAttribute("placeholder","Минимум 3 символа."));const a=document.forms.popup;if(17===l.value.length&&/^\+375\(?\d?\d?\)?\d?\d?\d?-?\d?\d?-?\d?\d?$/.test(l.value)&&e.value){let r=new FormData(a);r.set("title",c),n.style.overflow="hidden",o.style.display="block",fetch("popup.php",{method:"POST",body:r}).then((c=>{200===c.status&&(n.style.overflow="auto",o.style.display="none",t.textContent="заявка отправлена",e.value="",l.value="Cпасибо за заказ !")}))}else t.textContent="проверьте данные",setTimeout((()=>{t.textContent="заказать по акции"}),2e3)}))}()}}(),function({cursUsd:e,workPrace:t,lightPrace:l,perimeterPrace:n}){if(document.querySelector(".calculation-index")){!function(){let e,t;function l(l){let o=l.target.closest(".select-soffit-type__select").nextElementSibling,c=l.target.closest(".select-soffit-type__select");t=c.querySelector(".select-soffit-type__select-text"),e=o.querySelectorAll(".select-soffit-type__line"),e.forEach((e=>{e.addEventListener("click",n),e.classList.remove("line-none")}))}function n(l){t.textContent=l.target.textContent,e.forEach((e=>{e.classList.add("line-none"),e.removeEventListener("click",n)}))}document.querySelectorAll(".select-soffit-type__select").forEach((e=>{e.addEventListener("click",l)}))}();const o=document.querySelector(".money-calc__button-body"),c=document.querySelector(".select-promotion__body").querySelectorAll(".select-promotion__radio"),r=document.querySelector(".select-soffit-type__body"),a=document.querySelector(".select-parameters__body"),s=document.querySelector(".money-calc__cash"),i=document.querySelector(".money-calc__body"),d=document.querySelector(".money-calc__error");o.addEventListener("click",(()=>{let o,u=[],p=[],y=0,m=a.querySelectorAll(".select-parameters__size-input"),_=r.querySelectorAll(".select-soffit-type__select-text");if(c.forEach((e=>{e.checked&&(y=e.value)})),m.forEach((e=>{let t=`${e.value}`;t=t.includes(",",0)?+t.replace(",","."):+t,t&&p.push(t)})),_.forEach((e=>{u.push(e.textContent)})),p[0]>3.5&&p[1]>3.5?("Цветной"===u[1]&&(o=4.1),"Белый"===u[1]&&(o=3.1)):("Цветной"===u[1]&&(o=3.1),"Белый"===u[1]&&(o=1.9)),2===u.length&&3===p.length){let c=Math.round((p[0]*p[1]*o+2*(p[0]+p[1])*n+p[2]*l)*e+p[0]*p[1]*t*y);s.textContent=c+" руб.",d.style.display="none",i.style.display="flex"}else d.style.display="block",i.style.display="none"}))}}({cursUsd:2.6,workPrace:15,lightPrace:1,perimeterPrace:1}),function({cursUsd:e,works:t,pracePerimetr:l}){const n=document.querySelector(".prace-mondey__input");n&&function(){const o=document.querySelector(".prace-mondey__byn");let c,r;function a(){r=n.value,r.length>3&&(n.value=r.slice(0,3)),c=r<18?1.9:3.1,o.innerHTML=`${Math.floor(r*c*e+l*e*r*.8+r*t)}<span> РУБ.</span>`}a(),n.addEventListener("input",(()=>{a()}))}()}({cursUsd:2.6,works:15,pracePerimetr:1}),function(){const e=document.querySelector(".rules-body");if(e){const t=document.querySelector(".wrapper");let l;function n(){o>1100&&(l=20),o<1100&&o>900&&(l=17),o<900&&o>600&&(l=14),o<600&&(l=10)}let o=document.querySelector(".one-step").getBoundingClientRect().width-80;n(),e.style.animation=`draive infinite ${l}s`;const c=document.createElement("style");c.innerHTML=`\n        @keyframes draive {\n            0% {\n                transform: translate(0, 0);\n            }\n            15% {\n                transform: translate( ${o}px, 0);\n            }\n            30% {\n                transform: translate( ${o}px, 0);\n            }\n            40% {\n                transform: translate(0, 0);\n            }\n        }`,t.append(c)}}(),function(){const e=document.querySelector(".prace-mondey__tel");e&&function(){const t=document.querySelector(".prace-mondey__tel-input");function l(e,l){t.value.length===e&&(t.value=t.value.slice(0,e-1)+l+t.value[e-1])}t.addEventListener("click",(n=>{t.value="+375",t.addEventListener("input",(()=>{"("===t.value[t.value.length-1]||")"===t.value[t.value.length-1]||"-"===t.value[t.value.length-1]?t.value=t.value.slice(0,t.value.length-1):(t.value.length<4&&(t.value="+375"),l(5,"("),l(8,")"),l(12,"-"),l(15,"-"),t.value.length>16&&(t.value=t.value.slice(0,17)),/^\+375\(?\d?\d?\)?\d?\d?\d?-?\d?\d?-?\d?\d?$/.test(t.value)?e.style.boxShadow="0px 0px 2px 2px rgba(22, 255, 138, 0.663) inset":e.style.boxShadow="0px 0px 3px 3px rgba(255, 22, 22, 0.9) inset"),17===t.value.length&&/^\+375\(?\d?\d?\)?\d?\d?\d?-?\d?\d?-?\d?\d?$/.test(t.value)?e.classList.contains("grey")&&(e.classList.remove("grey"),e.classList.add("green")):e.classList.contains("green")&&(e.classList.remove("green"),e.classList.add("grey"))}))}))}()}(),function(){const e=document.querySelector(".prace-mondey__tel-input");e&&function(){const t=document.forms.actionCall,l=document.querySelector(".prace-mondey__button"),n=document.querySelector(".anime-meil"),o=document.body;l.addEventListener("click",(c=>{if(c.preventDefault,17===e.value.length&&/^\+375\(?\d?\d?\)?\d?\d?\d?-?\d?\d?-?\d?\d?$/.test(e.value)){let c=new FormData(t);o.style.overflow="hidden",n.style.display="block",fetch("mail.php",{method:"POST",body:c}).then((t=>{200===t.status&&(o.style.overflow="auto",n.style.display="none",l.textContent="заявка отправлена",e.value="Cпасибо за заказ !")}))}else l.textContent="проверьте номер",setTimeout((()=>{l.textContent="заказать по акции"}),2e3)}))}()}(),function(){let e=document.querySelectorAll(".video");if(e){function t(){for(let t=0;t<e.length;t++)l(e[t])}function l(e){let t=e.querySelector(".video__link"),l=e.querySelector(".video__media"),c=e.querySelector(".video__button"),r=n(l);e.addEventListener("click",(()=>{let l=o(r);t.remove(),c.remove(),e.appendChild(l)})),t.removeAttribute("href"),e.classList.add("video--enabled")}function n(e){return e.src.match(/https:\/\/i\.ytimg\.com\/vi\/([a-zA-Z0-9_-]+)\/maxresdefault\.jpg/i)[1]}function o(e){let t=document.createElement("iframe");return t.setAttribute("allowfullscreen",""),t.setAttribute("allow","autoplay"),t.setAttribute("src",c(e)),t.classList.add("video__media"),t}function c(e){return"https://www.youtube.com/embed/"+e+"?rel=0&showinfo=0&autoplay=1"}t()}}(),function(){const e=document.querySelector(".all-contacts__icons");if(e){let t=0;const l=new IntersectionObserver(((e,l)=>{e.forEach((e=>{if(e.isIntersecting){let n=e.target;t+=350,setTimeout((function(){n.classList.add("roll-in-right"),l.unobserve(n)}),t)}}))}),{threshold:[1],rootMargin:"-40px 0px -10% 0px"});e.querySelectorAll("img").forEach((e=>l.observe(e)))}}(),function(){const e=document.querySelectorAll(".build-prace__pic");e&&(function(){let t=0;const l=new IntersectionObserver(((e,l)=>{e.forEach((e=>{if(e.isIntersecting){let n=e.target;t+=100,setTimeout((function(){n.classList.add("anime-pic")}),t),l.unobserve(n)}}))}),{rootMargin:"-40px 0px -10% 0px",threshold:[1]});e.forEach((e=>{l.observe(e)}))}(),function(){const e=document.querySelectorAll(".cap-type__img"),t=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(e.target.classList.add("scale-in-ver-center"),t.unobserve(e.target))}))}),{rootMargin:"0px 0px -15% 0px",threshold:[1]});e.forEach((e=>{t.observe(e)}))}())}()}))})();
//# sourceMappingURL=bundle.js.map